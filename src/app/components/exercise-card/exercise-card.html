<div class="jacaona-exercise-card">
  <!-- Exercise Header -->
  <div class="jacaona-exercise-header">
    <h3 class="jacaona-exercise-name">{{ exercise.name }}</h3>
    @if (mode === 'edit' && showMenu && menuItems.length > 0) {
      <app-card-menu
        [menuId]="exercise.id"
        [items]="menuItems"
        (action)="onMenuAction($event)">
        <button class="jacaona-exercise-menu-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
        </button>
      </app-card-menu>
    }
  </div>

  <!-- Sets Table -->
  <app-sets-table
    [sets]="exercise.sets"
    [mode]="mode"
    [showCompleteColumn]="showCompleteColumn"
    (setChange)="onSetChange($event)"
    (setComplete)="onSetComplete($event)"
    (setTypeClick)="onSetTypeClick($event)">
  </app-sets-table>

  <!-- Add Set Button (edit mode only) -->
  @if (mode === 'edit' && showAddSetButton) {
    <button class="jacaona-add-set-btn" (click)="onAddSet()">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
      </svg>
      Add Set
    </button>
  }
</div>
